import {announce as $2ZufI$announce} from "@react-aria/live-announcer";
import {useRef as $2ZufI$useRef, useEffect as $2ZufI$useEffect, useCallback as $2ZufI$useCallback} from "react";
import {useMessageFormatter as $2ZufI$useMessageFormatter} from "@react-aria/i18n";

function $parcel$interopDefault(a) {
  return a && a.__esModule ? a.default : a;
}
function $parcel$export(e, n, v, s) {
  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});
}
var $fade679e6d148269$exports = {};

$parcel$export($fade679e6d148269$exports, "useSpinButton", () => $fade679e6d148269$export$e908e06f4b8e3402);


var $00b653b26a900380$exports = {};
var $06e8f07dbc38416a$exports = {};
$06e8f07dbc38416a$exports = JSON.parse("{\"Empty\":\"فارغ\"}");


var $ba0b57bbf8318d93$exports = {};
$ba0b57bbf8318d93$exports = JSON.parse("{\"Empty\":\"Изпразни\"}");


var $2dd637ef80444064$exports = {};
$2dd637ef80444064$exports = JSON.parse("{\"Empty\":\"Prázdné\"}");


var $6634bee357bc64d1$exports = {};
$6634bee357bc64d1$exports = JSON.parse("{\"Empty\":\"Tom\"}");


var $64ae55904a3a497e$exports = {};
$64ae55904a3a497e$exports = JSON.parse("{\"Empty\":\"Leer\"}");


var $5228c8dbe5376ecd$exports = {};
$5228c8dbe5376ecd$exports = JSON.parse("{\"Empty\":\"Άδειο\"}");


var $90a1fdd34a0a5fb7$exports = {};
$90a1fdd34a0a5fb7$exports = JSON.parse("{\"Empty\":\"Empty\"}");


var $e159d3bb265ca0d3$exports = {};
$e159d3bb265ca0d3$exports = JSON.parse("{\"Empty\":\"Vacío\"}");


var $7a555ac8d698ff45$exports = {};
$7a555ac8d698ff45$exports = JSON.parse("{\"Empty\":\"Tühjenda\"}");


var $8327d3b31f390576$exports = {};
$8327d3b31f390576$exports = JSON.parse("{\"Empty\":\"Tyhjä\"}");


var $d19b8fe5d8996888$exports = {};
$d19b8fe5d8996888$exports = JSON.parse("{\"Empty\":\"Vide\"}");


var $11f672035ce17e3b$exports = {};
$11f672035ce17e3b$exports = JSON.parse("{\"Empty\":\"ריק\"}");


var $b8b8cd4ea00918d4$exports = {};
$b8b8cd4ea00918d4$exports = JSON.parse("{\"Empty\":\"Prazno\"}");


var $ad49c313d99bbd7a$exports = {};
$ad49c313d99bbd7a$exports = JSON.parse("{\"Empty\":\"Üres\"}");


var $5534a75e4907f02d$exports = {};
$5534a75e4907f02d$exports = JSON.parse("{\"Empty\":\"Vuoto\"}");


var $54226de30084f7c4$exports = {};
$54226de30084f7c4$exports = JSON.parse("{\"Empty\":\"空\"}");


var $44a3f691c27e292d$exports = {};
$44a3f691c27e292d$exports = JSON.parse("{\"Empty\":\"비어 있음\"}");


var $3457688ed766f573$exports = {};
$3457688ed766f573$exports = JSON.parse("{\"Empty\":\"Tuščias\"}");


var $4773e70c86633b6b$exports = {};
$4773e70c86633b6b$exports = JSON.parse("{\"Empty\":\"Tukšs\"}");


var $68a6f74dbd686f52$exports = {};
$68a6f74dbd686f52$exports = JSON.parse("{\"Empty\":\"Tom\"}");


var $d719e96a98f9068e$exports = {};
$d719e96a98f9068e$exports = JSON.parse("{\"Empty\":\"Leeg\"}");


var $62b6e2bdd923543d$exports = {};
$62b6e2bdd923543d$exports = JSON.parse("{\"Empty\":\"Pusty\"}");


var $a8122fd20adf3e55$exports = {};
$a8122fd20adf3e55$exports = JSON.parse("{\"Empty\":\"Vazio\"}");


var $d6ad1891a939df67$exports = {};
$d6ad1891a939df67$exports = JSON.parse("{\"Empty\":\"Vazio\"}");


var $42c5bfdd97a0189b$exports = {};
$42c5bfdd97a0189b$exports = JSON.parse("{\"Empty\":\"Gol\"}");


var $11817d895f8336ae$exports = {};
$11817d895f8336ae$exports = JSON.parse("{\"Empty\":\"Не заполнено\"}");


var $ebd3288c5c0528c0$exports = {};
$ebd3288c5c0528c0$exports = JSON.parse("{\"Empty\":\"Prázdne\"}");


var $9b19bf9b8048baa1$exports = {};
$9b19bf9b8048baa1$exports = JSON.parse("{\"Empty\":\"Prazen\"}");


var $fcabb39760f00d21$exports = {};
$fcabb39760f00d21$exports = JSON.parse("{\"Empty\":\"Prazno\"}");


var $dd0633b64ec80f5b$exports = {};
$dd0633b64ec80f5b$exports = JSON.parse("{\"Empty\":\"Tomt\"}");


var $240ce93a49474cbd$exports = {};
$240ce93a49474cbd$exports = JSON.parse("{\"Empty\":\"Boş\"}");


var $9200ba6ac6860aed$exports = {};
$9200ba6ac6860aed$exports = JSON.parse("{\"Empty\":\"Пусто\"}");


var $b05c3ca874f366be$exports = {};
$b05c3ca874f366be$exports = JSON.parse("{\"Empty\":\"空\"}");


var $2ec35289219839ee$exports = {};
$2ec35289219839ee$exports = JSON.parse("{\"Empty\":\"空白\"}");


$00b653b26a900380$exports = {
    "ar-AE": $06e8f07dbc38416a$exports,
    "bg-BG": $ba0b57bbf8318d93$exports,
    "cs-CZ": $2dd637ef80444064$exports,
    "da-DK": $6634bee357bc64d1$exports,
    "de-DE": $64ae55904a3a497e$exports,
    "el-GR": $5228c8dbe5376ecd$exports,
    "en-US": $90a1fdd34a0a5fb7$exports,
    "es-ES": $e159d3bb265ca0d3$exports,
    "et-EE": $7a555ac8d698ff45$exports,
    "fi-FI": $8327d3b31f390576$exports,
    "fr-FR": $d19b8fe5d8996888$exports,
    "he-IL": $11f672035ce17e3b$exports,
    "hr-HR": $b8b8cd4ea00918d4$exports,
    "hu-HU": $ad49c313d99bbd7a$exports,
    "it-IT": $5534a75e4907f02d$exports,
    "ja-JP": $54226de30084f7c4$exports,
    "ko-KR": $44a3f691c27e292d$exports,
    "lt-LT": $3457688ed766f573$exports,
    "lv-LV": $4773e70c86633b6b$exports,
    "nb-NO": $68a6f74dbd686f52$exports,
    "nl-NL": $d719e96a98f9068e$exports,
    "pl-PL": $62b6e2bdd923543d$exports,
    "pt-BR": $a8122fd20adf3e55$exports,
    "pt-PT": $d6ad1891a939df67$exports,
    "ro-RO": $42c5bfdd97a0189b$exports,
    "ru-RU": $11817d895f8336ae$exports,
    "sk-SK": $ebd3288c5c0528c0$exports,
    "sl-SI": $9b19bf9b8048baa1$exports,
    "sr-SP": $fcabb39760f00d21$exports,
    "sv-SE": $dd0633b64ec80f5b$exports,
    "tr-TR": $240ce93a49474cbd$exports,
    "uk-UA": $9200ba6ac6860aed$exports,
    "zh-CN": $b05c3ca874f366be$exports,
    "zh-TW": $2ec35289219839ee$exports
};



function $fade679e6d148269$export$e908e06f4b8e3402(props) {
    const _async = $2ZufI$useRef();
    let { value: value , textValue: textValue , minValue: minValue , maxValue: maxValue , isDisabled: isDisabled , isReadOnly: isReadOnly , isRequired: isRequired , onIncrement: onIncrement , onIncrementPage: onIncrementPage , onDecrement: onDecrement , onDecrementPage: onDecrementPage , onDecrementToMin: onDecrementToMin , onIncrementToMax: onIncrementToMax  } = props;
    const formatMessage = $2ZufI$useMessageFormatter((/*@__PURE__*/$parcel$interopDefault($00b653b26a900380$exports)));
    const propsRef = $2ZufI$useRef(props);
    propsRef.current = props;
    const clearAsync = ()=>clearTimeout(_async.current)
    ;
    // eslint-disable-next-line arrow-body-style
    $2ZufI$useEffect(()=>{
        return ()=>clearAsync()
        ;
    }, []);
    let onKeyDown = (e)=>{
        if (e.ctrlKey || e.metaKey || e.shiftKey || e.altKey || isReadOnly) return;
        switch(e.key){
            case 'PageUp':
                if (onIncrementPage) {
                    e.preventDefault();
                    onIncrementPage();
                    break;
                }
            // fallthrough!
            case 'ArrowUp':
            case 'Up':
                if (onIncrement) {
                    e.preventDefault();
                    onIncrement();
                }
                break;
            case 'PageDown':
                if (onDecrementPage) {
                    e.preventDefault();
                    onDecrementPage();
                    break;
                }
            // fallthrough
            case 'ArrowDown':
            case 'Down':
                if (onDecrement) {
                    e.preventDefault();
                    onDecrement();
                }
                break;
            case 'Home':
                if (onDecrementToMin) {
                    e.preventDefault();
                    onDecrementToMin();
                }
                break;
            case 'End':
                if (onIncrementToMax) {
                    e.preventDefault();
                    onIncrementToMax();
                }
                break;
        }
    };
    let isFocused = $2ZufI$useRef(false);
    let onFocus = ()=>{
        isFocused.current = true;
    };
    let onBlur = ()=>{
        isFocused.current = false;
    };
    // Replace Unicode hyphen-minus (U+002D) with minus sign (U+2212).
    // This ensures that macOS VoiceOver announces it as "minus" even with other characters between the minus sign
    // and the number (e.g. currency symbol). Otherwise it announces nothing because it assumes the character is a hyphen.
    // In addition, replace the empty string with the word "Empty" so that iOS VoiceOver does not read "50%" for an empty field.
    textValue = textValue === '' ? formatMessage('Empty') : (textValue || `${value}`).replace('-', '\u2212');
    $2ZufI$useEffect(()=>{
        if (isFocused.current) $2ZufI$announce(textValue, 'assertive');
    }, [
        textValue
    ]);
    const onIncrementPressStart = $2ZufI$useCallback((initialStepDelay)=>{
        clearAsync();
        propsRef.current.onIncrement();
        // Start spinning after initial delay
        _async.current = window.setTimeout(()=>{
            if (isNaN(maxValue) || isNaN(value) || value < maxValue) onIncrementPressStart(60);
        }, initialStepDelay);
    }, [
        onIncrement,
        maxValue,
        value
    ]);
    const onDecrementPressStart = $2ZufI$useCallback((initialStepDelay)=>{
        clearAsync();
        propsRef.current.onDecrement();
        // Start spinning after initial delay
        _async.current = window.setTimeout(()=>{
            if (isNaN(minValue) || isNaN(value) || value > minValue) onDecrementPressStart(60);
        }, initialStepDelay);
    }, [
        onDecrement,
        minValue,
        value
    ]);
    let cancelContextMenu = (e)=>{
        e.preventDefault();
    };
    return {
        spinButtonProps: {
            role: 'spinbutton',
            'aria-valuenow': !isNaN(value) ? value : null,
            'aria-valuetext': textValue,
            'aria-valuemin': minValue,
            'aria-valuemax': maxValue,
            'aria-disabled': isDisabled || null,
            'aria-readonly': isReadOnly || null,
            'aria-required': isRequired || null,
            onKeyDown: onKeyDown,
            onFocus: onFocus,
            onBlur: onBlur
        },
        incrementButtonProps: {
            onPressStart: ()=>{
                onIncrementPressStart(400);
                window.addEventListener('contextmenu', cancelContextMenu);
            },
            onPressEnd: ()=>{
                clearAsync();
                window.removeEventListener('contextmenu', cancelContextMenu);
            },
            onFocus: onFocus,
            onBlur: onBlur
        },
        decrementButtonProps: {
            onPressStart: ()=>{
                onDecrementPressStart(400);
                window.addEventListener('contextmenu', cancelContextMenu);
            },
            onPressEnd: ()=>{
                clearAsync();
                window.removeEventListener('contextmenu', cancelContextMenu);
            },
            onFocus: onFocus,
            onBlur: onBlur
        }
    };
}




export {$fade679e6d148269$export$e908e06f4b8e3402 as useSpinButton};
//# sourceMappingURL=module.js.map

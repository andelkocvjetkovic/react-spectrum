{"mappings":"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","sources":["packages/@react-spectrum/tree/src/index.ts","packages/@react-spectrum/tree/src/Tree.tsx","packages/@adobe/spectrum-css-temp/components/treeview/vars.css"],"sourcesContent":["/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n/// <reference types=\"css-module-types\" />\n\nexport * from './Tree';\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport ChevronRightMedium from '@spectrum-icons/ui/ChevronRightMedium';\nimport {classNames} from '@react-spectrum/utils';\nimport {CollectionBase, Expandable, MultipleSelection, Node} from '@react-types/shared';\nimport {FocusRing} from '@react-aria/focus';\nimport {Item, Section} from '@react-stately/collections';\nimport {ListLayout} from '@react-stately/layout';\nimport React, {Key, useMemo, useRef} from 'react';\nimport styles from '@adobe/spectrum-css-temp/components/treeview/vars.css';\nimport {TreeState, useTreeState} from '@react-stately/tree';\nimport {useSelectableCollection, useSelectableItem} from '@react-aria/selection';\nimport {Virtualizer} from '@react-aria/virtualizer';\n\nexport {Item, Section};\n\nexport function Tree<T extends object>(props: CollectionBase<T> & Expandable & MultipleSelection) {\n  let state = useTreeState(props);\n  let layout = useMemo(() =>\n    new ListLayout({\n      rowHeight: 44,\n      indentationForItem(tree, key: Key) {\n        let level = tree.getItem(key).level;\n        return 28 * level;\n      }\n    })\n  , []);\n\n  let ref = useRef();\n  let {collectionProps} = useSelectableCollection({\n    ref,\n    selectionManager: state.selectionManager,\n    keyboardDelegate: layout\n  });\n\n  return (\n    <Virtualizer\n      {...collectionProps}\n      ref={ref}\n      focusedKey={state.selectionManager.focusedKey}\n      className={classNames(styles, 'spectrum-TreeView')}\n      layout={layout}\n      collection={state.collection}>\n      {(type, item) => {\n        if (type === 'section') {\n          return <TreeHeading item={item} />;\n        }\n\n        return (\n          <TreeItem item={item} state={state} />\n        );\n      }}\n    </Virtualizer>\n  );\n}\n\ninterface TreeItemProps<T> {\n  item: Node<T>,\n  state: TreeState<T>\n}\n\nfunction TreeItem<T>(props: TreeItemProps<T>) {\n  let {item, state} = props;\n  let {\n    key,\n    rendered,\n    hasChildNodes\n  } = item;\n\n  let isExpanded = state.expandedKeys.has(key);\n  let isSelected = state.selectionManager.isSelected(key);\n\n  let itemClassName = classNames(styles, 'spectrum-TreeView-item', {\n    'is-open': isExpanded\n  });\n\n  let linkClassName = classNames(styles, 'spectrum-TreeView-itemLink', {\n    'is-selected': isSelected\n    // 'is-drop-target': isDropTarget\n  });\n\n  let ref = useRef<HTMLDivElement>();\n  let {itemProps} = useSelectableItem({\n    selectionManager: state.selectionManager,\n    key: item.key,\n    ref\n  });\n\n  return (\n    <div className={itemClassName} role=\"presentation\">\n      <FocusRing focusRingClass={classNames(styles, 'focus-ring')}>\n        <div\n          {...itemProps}\n          ref={ref}\n          className={linkClassName}>\n          {hasChildNodes &&\n            <ChevronRightMedium\n              UNSAFE_className={classNames(styles, 'spectrum-TreeView-indicator')} />\n          }\n          {rendered}\n        </div>\n      </FocusRing>\n    </div>\n  );\n}\n\nfunction TreeHeading({item}) {\n  return (\n    <div className={classNames(styles, 'spectrum-TreeView-heading')}>{item.rendered}</div>\n  );\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n@import './index.css';\n@import './skin.css';\n"],"names":[],"version":3,"file":"module.js.map"}